<uib-tabset active="active" type="tabs" class="h-100" cg-busy="dr.promise">
    <uib-tab index="0">
        <uib-tab-heading class="h5">生产日报表</uib-tab-heading>
        <div class="wrapper-xs">
            <div class="form-inline">
                <div class="form-group">
                    <div basic-select="AssemblyLine"  ng-model="dr.Ser.LineId" placeholder="线别" ></div>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control"  ng-model="dr.Ser.WorkOrder" placeholder="工单">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control"  ng-model="dr.Ser.MateCode" placeholder="料号">
                </div>
                <div class="form-group">
                    <input type="text" date-picker class="form-control"  ng-model="dr.Ser.StartDate" placeholder="开始时间" option="dr.DateOption">
                </div>
                <div class="form-group">
                    <input type="text" date-picker class="form-control"  ng-model="dr.Ser.EndDate" placeholder="结束时间" option="dr.DateOption">
                </div>
                <button class= "btn btn-sm btn-info " ng-click= "dr.Search() "><i class= "glyphicon glyphicon-search "></i>查询</button>
                <button class= "btn btn-sm btn-success " ng-click= "dr.ExportExcel() "><i class= "glyphicon glyphicon-export "></i> 导出</button>
            </div>
        </div>
        <div class= "padder-xs ">
            <span class="text-danger">注:重算只能在该工单没有生产作业的情况下，否则将导致数据错误。</span>
            <div class="col-md-12 scroll-x no-padder">
                <table class= "table " >
                    <thead>
                        <tr>
                            <!--<td title="操作" style="width:60px ">操作</td>-->
                            <td title="生产日期" style= "width:100px ">生产日期</td>
                            <td title="星期" style= "width:70px ">星期</td>
                            <td title="工单" style= "width:100px ">工单</td>
                            <td title="线别" style= "width:100px ">线别</td>
                            <td title="工单数" style= "width:60px ">工单数</td>
                            <td title="料号" style= "width:100px ">料号</td>
                            <td title="料名" style= "width:100px ">料名</td>
                            <td title="UPPH" style= "width:60px ">UPPH</td>
                            <td title="实到人数" style= "width:100px ">实到人数</td>
                            <td title="实际工时" style= "width:100px ">实际工时</td>
                            <td title="计划产量" style= "width:100px ">计划产量</td>
                            <td title="标准产出" style= "width:100px ">标准产出</td>
                            <td title="当日投入" style= "width:100px ">当日投入</td>
                            <td title="MES完工数" style= "width:100px ">MES完工数</td>
                            <td title="实际入库(U9)" style= "width:100px ">实际入库(U9)</td>
                            <td title="超产量" style= "width:100px ">超产量</td>
                            <td title="工单直通率" style= "width:100px ">工单直通率</td>
                            <td title="日达成率" style= "width:100px ">日达成率</td>
                        </tr>
                    </thead>
                    <tr ng-repeat= "item in dr.List ">
                        <!--<td title="操作">
                            <button type="button" title="重新计算" class="btn btn-xs btn-success">
                                <i class="glyphicon glyphicon-refresh"></i> 
                            </button>
                        </td>-->
                        <td title="{{ item.ComDate }}">{{ item.ComDate }}</td>
                        <td title="{{ item.ComWeek }}">{{ item.ComWeek }}</td>
                        <td title="{{ item.WorkOrder }}">{{ item.WorkOrder }}</td>
                        <td title="{{ item.AssemblyLineName }}">{{ item.AssemblyLineName }}</td>
                        <td title="{{ item.Quantity }}">{{ item.Quantity }}</td>
                        <td title="{{ item.MaterialCode }}">{{ item.MaterialCode }}</td>
                        <td title="{{ item.MaterialName }}">{{ item.MaterialName }}</td>
                        <td title="{{ item.UPPH }}">{{ item.UPPH }}</td>
                        <td title="{{ item.ActPerson }}">{{ item.ActPerson }}</td>
                        <td title="{{ item.ActHour }}">{{ item.ActHour }}</td>
                        <td title="{{ item.PlanCount }}">{{ item.PlanCount }}</td>
                        <td title="{{ item.StandCount }}">{{ item.StandCount }}</td>
                        <td title="{{ item.InSum }}">{{ item.InSum }}</td>
                        <td title="{{ item.FinishSum }}">
                            <a class="text-success" title="重新计算" ng-click="dr.ReCal(item)">
                                <!--<i class="glyphicon glyphicon-refresh"></i>-->
                                {{ item.FinishSum }}
                            </a>
                        </td>
                        <td title="{{ item.RcvQty }}">{{ item.RcvQty }}</td>
                        <td title="{{ item.OverCount }}">{{ item.OverCount }}</td>
                        <td title="{{ item.OverRate }}">{{ item.OverRate }}</td>
                        <td title="{{ item.TargetRate }}">{{ item.TargetRate }}</td>
                    </tr>
                </table>
            </div>
            <div class= "col-md-12 text-center " ng-if= "dr.page.total>dr.page.size ">
                <div uib-pagination total-items= "dr.page.total " ng-model= "dr.page.index " items-per-page= "dr.page.size " max-size= "10 " first-text= "第一页 " previous-text= "上一页 "
                     ng-change= "dr.PageChange() " next-text= "下一页 " last-text= "最后页 " boundary-links= "true " boundary-link-numbers= "true "></div>
            </div>
        </div>
    </uib-tab>
</uib-tabset>
